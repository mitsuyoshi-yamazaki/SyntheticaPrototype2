## このファイルについて

- 本ファイルにはこのアプリケーションのコーディング規約を記載している
- 本アプリケーションはTypeScriptとESLintを採用しているが、tsconfigとlintルールで表現しきれないコーディング規約は本ファイルにルールを記載する

## Claudeへの指示

- ソースコードを作成・編集する際は、tsconfigやlintルールで規定されたルールに従うこと。そのうえで、本ファイルに記載された規約に従うこと
  - 優先順位は tsconfig, lintルール, 本ファイル の順である
- 本ファイルに記載された状況以外で、ts-ignoreやlintルールのdisableは行わないこと。disableすることが適当と考えられる場合は、人間に指示を仰ぐこと

## コーディング規約

### 一般

- 構造的に等しくとも相互の代入を行わない型はNominal Typeを用いる
- インスタンスメンバや変数は可能な限りimmutableにする
- 複数のスコープを一度に抜ける以外の目的で例外を使用しない
- 早期returnを推奨する
- ドキュメント、コメント、テストケース名は日本語を用いる

### TypeScript

- 関数定義は可能な限りfunctionではなくconstを用いる
- 言語仕様としてのEnumは使わず、Literal Union型もしくはDiscriminated Union型を用いる
  - Discriminated Union型を用いる場合は、Discriminatorのプロパティ名は"case"とする
- private変数は `_` から始まるメンバ名をつける
- forループは forEach(), for-of, for-in の順で優先する。for-inは極力使用しない

### コメント

- 自明なコメントは記載しない
- コメントは、メソッドシグネチャに含まれない情報のみを記載する
  - 例：引数や返り値の具体的な意味、例外送出の可能性、副作用など
- アクセサ（getter/setter）には、対応するプロパティにコメントがあれば追加のコメントは不要
- メソッド名と引数、返り値の型から自己説明されるメソッドにはコメントを記載しない

## テスト

- テストファイルはそのテスト対象と同じディレクトリ階層に、 <テスト対象ファイル名>.test.ts のファイル名で作成する
- `it()` ではなく `test()` を用いる
